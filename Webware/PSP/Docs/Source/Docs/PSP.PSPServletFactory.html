
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: class PSPServletFactory</title>
</head><body bgcolor="#f0f0f8">
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><strong>PSP.PSPServletFactory</strong> = <a name="PSP.PSPServletFactory">class PSPServletFactory</a>(<a href="WebKit.ServletFactory.html#ServletFactory">WebKit.ServletFactory.ServletFactory</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Servlet&nbsp;Factory&nbsp;for&nbsp;PSP&nbsp;files.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%"><dl><dt>Method resolution order:</dt>
<dd><a href="PSP.PSPServletFactory.html#PSPServletFactory">PSPServletFactory</a></dd>
<dd><a href="WebKit.ServletFactory.html#ServletFactory">WebKit.ServletFactory.ServletFactory</a></dd>
<dd><a href="__builtin__.html#object">__builtin__.object</a></dd>
</dl>
<hr>
Methods defined here:<br>
<dl><dt><a name="PSPServletFactory-__init__"><strong>__init__</strong></a>(self, application)</dt></dl>

<dl><dt><a name="PSPServletFactory-clearFileCache"><strong>clearFileCache</strong></a>(self)</dt><dd><tt>Clear&nbsp;class&nbsp;files&nbsp;stored&nbsp;on&nbsp;disk.</tt></dd></dl>

<dl><dt><a name="PSPServletFactory-computeClassName"><strong>computeClassName</strong></a>(self, pagename)</dt><dd><tt>Generates&nbsp;a&nbsp;(hopefully)&nbsp;unique&nbsp;class/file&nbsp;name&nbsp;for&nbsp;each&nbsp;PSP&nbsp;file.<br>
&nbsp;<br>
Argument:&nbsp;pagename:&nbsp;the&nbsp;path&nbsp;to&nbsp;the&nbsp;PSP&nbsp;source&nbsp;file<br>
Returns:&nbsp;a&nbsp;unique&nbsp;name&nbsp;for&nbsp;the&nbsp;class&nbsp;generated&nbsp;fom&nbsp;this&nbsp;PSP&nbsp;source&nbsp;file</tt></dd></dl>

<dl><dt><a name="PSPServletFactory-extensions"><strong>extensions</strong></a>(self)</dt></dl>

<dl><dt><a name="PSPServletFactory-fileEncoding"><strong>fileEncoding</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;file&nbsp;encoding&nbsp;used&nbsp;in&nbsp;PSP&nbsp;files.</tt></dd></dl>

<dl><dt><a name="PSPServletFactory-flushCache"><strong>flushCache</strong></a>(self)</dt><dd><tt>Clean&nbsp;out&nbsp;the&nbsp;cache&nbsp;of&nbsp;classes&nbsp;in&nbsp;memory&nbsp;and&nbsp;on&nbsp;disk.</tt></dd></dl>

<dl><dt><a name="PSPServletFactory-loadClass"><strong>loadClass</strong></a>(self, transaction, path)</dt></dl>

<dl><dt><a name="PSPServletFactory-loadClassFromFile"><strong>loadClassFromFile</strong></a>(self, transaction, filename, classname)</dt><dd><tt>Create&nbsp;an&nbsp;actual&nbsp;class&nbsp;instance.<br>
&nbsp;<br>
The&nbsp;module&nbsp;containing&nbsp;the&nbsp;class&nbsp;is&nbsp;imported&nbsp;as&nbsp;though&nbsp;it&nbsp;were&nbsp;a<br>
module&nbsp;within&nbsp;the&nbsp;context's&nbsp;package&nbsp;(and&nbsp;appropriate&nbsp;subpackages).</tt></dd></dl>

<dl><dt><a name="PSPServletFactory-uniqueness"><strong>uniqueness</strong></a>(self)</dt></dl>

<hr>
Methods inherited from <a href="WebKit.ServletFactory.html#ServletFactory">WebKit.ServletFactory.ServletFactory</a>:<br>
<dl><dt><a name="PSPServletFactory-importAsPackage"><strong>importAsPackage</strong></a>(self, transaction, serverSidePathToImport)</dt><dd><tt>Import&nbsp;requested&nbsp;module.<br>
&nbsp;<br>
Imports&nbsp;the&nbsp;module&nbsp;at&nbsp;the&nbsp;given&nbsp;path&nbsp;in&nbsp;the&nbsp;proper&nbsp;package/subpackage<br>
for&nbsp;the&nbsp;current&nbsp;request.&nbsp;For&nbsp;example,&nbsp;if&nbsp;the&nbsp;transaction&nbsp;has&nbsp;the&nbsp;URL<br>
<a href="http://localhost/WebKit.cgi/MyContextDirectory/MySubdirectory/MyPage">http://localhost/WebKit.cgi/MyContextDirectory/MySubdirectory/MyPage</a><br>
and&nbsp;path&nbsp;=&nbsp;'some/random/path/MyModule.py'&nbsp;and&nbsp;the&nbsp;context&nbsp;is&nbsp;configured<br>
to&nbsp;have&nbsp;the&nbsp;name&nbsp;'MyContext'&nbsp;then&nbsp;this&nbsp;function&nbsp;imports&nbsp;the&nbsp;module&nbsp;at<br>
that&nbsp;path&nbsp;as&nbsp;MyContext.MySubdirectory.MyModule&nbsp;.&nbsp;Note&nbsp;that&nbsp;the&nbsp;context<br>
name&nbsp;may&nbsp;differ&nbsp;from&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;directory&nbsp;containing&nbsp;the&nbsp;context,<br>
even&nbsp;though&nbsp;they&nbsp;are&nbsp;usually&nbsp;the&nbsp;same&nbsp;by&nbsp;convention.<br>
&nbsp;<br>
Note&nbsp;that&nbsp;the&nbsp;module&nbsp;imported&nbsp;may&nbsp;have&nbsp;a&nbsp;different&nbsp;name&nbsp;from&nbsp;the<br>
servlet&nbsp;name&nbsp;specified&nbsp;in&nbsp;the&nbsp;URL.&nbsp;This&nbsp;is&nbsp;used&nbsp;in&nbsp;PSP.</tt></dd></dl>

<dl><dt><a name="PSPServletFactory-name"><strong>name</strong></a>(self)</dt><dd><tt>Return&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;factory.<br>
&nbsp;<br>
This&nbsp;is&nbsp;a&nbsp;convenience&nbsp;for&nbsp;the&nbsp;class&nbsp;name.</tt></dd></dl>

<dl><dt><a name="PSPServletFactory-returnServlet"><strong>returnServlet</strong></a>(self, servlet)</dt><dd><tt>Return&nbsp;servlet&nbsp;to&nbsp;the&nbsp;pool.<br>
&nbsp;<br>
Called&nbsp;by&nbsp;Servlet.close(),&nbsp;which&nbsp;returns&nbsp;the&nbsp;servlet<br>
to&nbsp;the&nbsp;servlet&nbsp;pool&nbsp;if&nbsp;necessary.</tt></dd></dl>

<dl><dt><a name="PSPServletFactory-servletForTransaction"><strong>servletForTransaction</strong></a>(self, transaction)</dt><dd><tt>Return&nbsp;a&nbsp;new&nbsp;servlet&nbsp;that&nbsp;will&nbsp;handle&nbsp;the&nbsp;transaction.<br>
&nbsp;<br>
This&nbsp;method&nbsp;handles&nbsp;caching,&nbsp;and&nbsp;will&nbsp;call&nbsp;<a href="#PSP.PSPServletFactory-loadClass">loadClass</a>(trans,&nbsp;filepath)<br>
if&nbsp;no&nbsp;cache&nbsp;is&nbsp;found.&nbsp;Caching&nbsp;is&nbsp;generally&nbsp;controlled&nbsp;by&nbsp;servlets<br>
with&nbsp;the&nbsp;canBeReused()&nbsp;and&nbsp;canBeThreaded()&nbsp;methods.</tt></dd></dl>

<hr>
Data descriptors inherited from <a href="WebKit.ServletFactory.html#ServletFactory">WebKit.ServletFactory.ServletFactory</a>:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table>
</body></html>