<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>PSP/cl_psp.py</title>
<!--css-->

<style type="text/css">
<!--
body{ background: #EEF;
font-family: Verdana, Arial, Helvetica, sans-serif;
font-size: 10pt;
padding: 3pt; }
.PY_KEYWORD{ color: #00C; font-weight: bold; }
.PY_COMMENT{ color: #008; }
.PY_PARAMETER{ color: #C00; }
.PY_IDENTIFIER{ color: #C00; font-weight: bold; }
.PY_STRING{ color: #080; }
-->
</style>
</head>
<body>
<!--header-->

<!--script-->
<pre><span class="PY_KEYWORD">
import</span> os, sys

<span class="PY_KEYWORD">from</span> Context <span class="PY_KEYWORD">import</span> PSPCLContext
<span class="PY_KEYWORD">from</span> PSPCompiler <span class="PY_KEYWORD">import</span> Compiler

<span class="PY_COMMENT"># Move this to a class like JPS?</span>

<span class="PY_KEYWORD">def</span> PSPCompile(*args):
    pspfilename = args[0]
    fil, ext = os.path.splitext(os.path.basename(pspfilename))
    classname = fil + <span class="PY_STRING">'_'</span> + ext
    pythonfilename = classname + <span class="PY_STRING">'.py'</span>
    context = PSPCLContext(pspfilename)
    context.setClassName(classname)
    context.setPythonFileName(pythonfilename)
    context.setPythonFileEncoding(<span class="PY_STRING">'utf-8'</span>)
    clc = Compiler(context)
    clc.compile()


<span class="PY_KEYWORD">if</span> __name__ == <span class="PY_STRING">'__main__'</span>:
    PSPCompile(sys.argv[1])
</pre>
<!--footer-->

</body>
</html>
