<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>WebUtils/HTTPStatusCodes.py</title>
<!--css-->

<style type="text/css">
<!--
body{ background: #EEF;
font-family: Verdana, Arial, Helvetica, sans-serif;
font-size: 10pt;
padding: 3pt; }
.PY_KEYWORD{ color: #00C; font-weight: bold; }
.PY_COMMENT{ color: #008; }
.PY_PARAMETER{ color: #C00; }
.PY_IDENTIFIER{ color: #C00; font-weight: bold; }
.PY_STRING{ color: #080; }
-->
</style>
</head>
<body>
<!--header-->

<!--script-->
<pre><span class="PY_STRING">"""HTTPStatusCodes.py

Dictionary of HTTP status codes (see RFC2616, section 10).

"""</span>

<span class="PY_KEYWORD">import</span> re


HTTPStatusCodeList = [
    (100, <span class="PY_STRING">'CONTINUE'</span>,                        <span class="PY_STRING">'The client can continue.'</span>),
    (101, <span class="PY_STRING">'SWITCHING_PROTOCOLS'</span>,             <span class="PY_STRING">'The server is switching protocols according to Upgrade header.'</span>),
    (200, <span class="PY_STRING">'OK'</span>,                              <span class="PY_STRING">'The request succeeded normally.'</span>),
    (201, <span class="PY_STRING">'CREATED'</span>,                         <span class="PY_STRING">'The request succeeded and created a new resource on the server.'</span>),
    (202, <span class="PY_STRING">'ACCEPTED'</span>,                        <span class="PY_STRING">'The request was accepted for processing, but was not completed.'</span>),
    (203, <span class="PY_STRING">'NON_AUTHORITATIVE_INFORMATION'</span>,   <span class="PY_STRING">'The meta information presented by the client did not originate from the server.'</span>),
    (204, <span class="PY_STRING">'NO_CONTENT'</span>,                      <span class="PY_STRING">'The request succeeded but that there was no new information to return.'</span>),
    (205, <span class="PY_STRING">'RESET_CONTENT'</span>,                   <span class="PY_STRING">'The agent &lt;em&gt;SHOULD&lt;/em&gt; reset the document view which caused the request to be sent.'</span>),
    (206, <span class="PY_STRING">'PARTIAL_CONTENT'</span>,                 <span class="PY_STRING">'The server has fulfilled the partial GET request for the resource.'</span>),
    (300, <span class="PY_STRING">'MULTIPLE_CHOICES'</span>,                <span class="PY_STRING">'The requested resource corresponds to any one of a set of representations, each with its own specific location.'</span>),
    (301, <span class="PY_STRING">'MOVED_PERMANENTLY'</span>,               <span class="PY_STRING">'The resource has permanently moved to a new location, and that future references should use a new URI with their requests.'</span>),
    (302, <span class="PY_STRING">'MOVED_TEMPORARILY'</span>,               <span class="PY_STRING">'The resource has temporarily moved to another location, but that future references should still use the original URI to access the resource.'</span>),
    (303, <span class="PY_STRING">'SEE_OTHER'</span>,                       <span class="PY_STRING">'The response to the request can be found under a different URI.'</span>),
    (304, <span class="PY_STRING">'NOT_MODIFIED'</span>,                    <span class="PY_STRING">'A conditional GET operation found that the resource was available and not modified.'</span>),
    (305, <span class="PY_STRING">'USE_PROXY'</span>,                       <span class="PY_STRING">'The requested resource &lt;em&gt;MUST&lt;/em&gt; be accessed through the proxy given by the &lt;code&gt;&lt;em&gt;Location&lt;/em&gt;&lt;/code&gt; field.'</span>),
    (400, <span class="PY_STRING">'BAD_REQUEST'</span>,                     <span class="PY_STRING">'The request sent by the client was syntactically incorrect.'</span>),
    (401, <span class="PY_STRING">'UNAUTHORIZED'</span>,                    <span class="PY_STRING">'The request requires HTTP authentication.'</span>),
    (402, <span class="PY_STRING">'PAYMENT_REQUIRED'</span>,                <span class="PY_STRING">'Reserved for future use.'</span>),
    (403, <span class="PY_STRING">'FORBIDDEN'</span>,                       <span class="PY_STRING">'The server understood the request but refused to fulfill it.'</span>),
    (404, <span class="PY_STRING">'NOT_FOUND'</span>,                       <span class="PY_STRING">'The requested resource is not available.'</span>),
    (405, <span class="PY_STRING">'METHOD_NOT_ALLOWED'</span>,              <span class="PY_STRING">'The method specified in the &lt;code&gt;&lt;em&gt;Request-Line&lt;/em&gt;&lt;/code&gt; is not allowed for the resource identified by the &lt;code&gt;&lt;em&gt;Request-URI&lt;/em&gt;&lt;/code&gt;.'</span>),
    (406, <span class="PY_STRING">'NOT_ACCEPTABLE'</span>,                  <span class="PY_STRING">'The resource identified by the request is only capable of generating response entities which have content characteristics not acceptable according to the accept headers sent in the request.'</span>),
    (407, <span class="PY_STRING">'PROXY_AUTHENTICATION_REQUIRED'</span>,   <span class="PY_STRING">'The client &lt;em&gt;MUST&lt;/em&gt; first authenticate itself with the proxy.'</span>),
    (408, <span class="PY_STRING">'REQUEST_TIMEOUT'</span>,                 <span class="PY_STRING">'The client did not produce a request within the time that the server was prepared to wait.'</span>),
    (409, <span class="PY_STRING">'CONFLICT'</span>,                        <span class="PY_STRING">'The request could not be completed due to a conflict with the current state of the resource.'</span>),
    (410, <span class="PY_STRING">'GONE'</span>,                            <span class="PY_STRING">'The resource is no longer available at the server and no forwarding address is known.'</span>),
    (411, <span class="PY_STRING">'LENGTH_REQUIRED'</span>,                 <span class="PY_STRING">'The request cannot be handled without a defined &lt;code&gt;&lt;em&gt;Content-Length&lt;/em&gt;&lt;/code&gt;.'</span>),
    (412, <span class="PY_STRING">'PRECONDITION_FAILED'</span>,             <span class="PY_STRING">'The precondition given in one or more of the request-header fields evaluated to false when it was tested on the server.'</span>),
    (413, <span class="PY_STRING">'REQUEST_ENTITY_TOO_LARGE'</span>,        <span class="PY_STRING">'The server is refusing to process the request because the request entity is larger than the server is willing or able to process.'</span>),
    (414, <span class="PY_STRING">'REQUEST_URI_TOO_LONG'</span>,            <span class="PY_STRING">'The server is refusing to service the request because the &lt;code&gt;&lt;em&gt;Request-URI&lt;/em&gt;&lt;/code&gt; is longer than the server is willing to interpret.'</span>),
    (415, <span class="PY_STRING">'UNSUPPORTED_MEDIA_TYPE'</span>,          <span class="PY_STRING">'The server is refusing to service the request because the entity of the request is in a format not supported by the requested resource for the requested method.'</span>),
    (416, <span class="PY_STRING">'REQUESTED_RANGE_NOT_SATISFIABLE'</span>, <span class="PY_STRING">'The server cannot serve the requested byte range.'</span>),
    (417, <span class="PY_STRING">'EXPECTATION_FAILED'</span>,              <span class="PY_STRING">'The server could not meet the expectation given in the Expect request header.'</span>),
    (500, <span class="PY_STRING">'INTERNAL_SERVER_ERROR'</span>,           <span class="PY_STRING">'An error inside the HTTP server which prevented it from fulfilling the request.'</span>),
    (501, <span class="PY_STRING">'NOT_IMPLEMENTED'</span>,                 <span class="PY_STRING">'The HTTP server does not support the functionality needed to fulfill the request.'</span>),
    (502, <span class="PY_STRING">'BAD_GATEWAY'</span>,                     <span class="PY_STRING">'The HTTP server received an invalid response from a server it consulted when acting as a proxy or gateway.'</span>),
    (503, <span class="PY_STRING">'SERVICE_UNAVAILABLE'</span>,             <span class="PY_STRING">'The HTTP server is temporarily overloaded, and unable to handle the request.'</span>),
    (504, <span class="PY_STRING">'GATEWAY_TIMEOUT'</span>,                 <span class="PY_STRING">'The server did not receive a timely response from the upstream server while acting as a gateway or proxy.'</span>),
    (505, <span class="PY_STRING">'HTTP_VERSION_NOT_SUPPORTED'</span>,      <span class="PY_STRING">'The server does not support or refuses to support the HTTP protocol version that was used in the request message.'</span>)
]

HTTPStatusCodeListColumnNames = (<span class="PY_STRING">'Code'</span>, <span class="PY_STRING">'Identifier'</span>, <span class="PY_STRING">'Description'</span>)


HTTPStatusCodes = {}
<span class="PY_COMMENT"># HTTPStatusCodes can be indexed by either their status code number</span>
<span class="PY_COMMENT"># of textual identifier. The result is a dictionary with keys code,</span>
<span class="PY_COMMENT"># identifier, asciiMessage and htmlMessage.</span>


<span class="PY_COMMENT"># Construct HTTPStatusCodes dictionary</span>
<span class="PY_KEYWORD">for</span> record <span class="PY_KEYWORD">in</span> HTTPStatusCodeList:
    code, identifier, htmlMsg = record
    d = dict(code=code, identifier=identifier, htmlMsg=htmlMsg)
    d[<span class="PY_STRING">'asciiMsg'</span>] = re.sub(<span class="PY_STRING">'&lt;.*?&gt;'</span>, <span class="PY_STRING">''</span>, htmlMsg)
    HTTPStatusCodes[code] = d
    HTTPStatusCodes[identifier] = d


<span class="PY_KEYWORD">def</span> HTMLTableOfHTTPStatusCodes(codes=HTTPStatusCodeList,
        tableArgs=<span class="PY_STRING">'align=center border=2'</span>, rowArgs=<span class="PY_STRING">'valign=top'</span>, colArgs=<span class="PY_STRING">''</span>,
        headingTag=<span class="PY_STRING">'th'</span>, headingArgs=<span class="PY_STRING">''</span>):
    <span class="PY_STRING">"""Return an HTML table with HTTP status codes.

    Returns an HTML string containing all the status code information
    as provided by this module. It's highly recommended that if you
    pass arguments to this function, that you do so by keyword.

    """</span>
    res = [<span class="PY_STRING">'&lt;table %s&gt;\n'</span> % tableArgs]
    th = <span class="PY_STRING">'&lt;%s %s&gt;'</span> % (headingTag, headingArgs)
    res.append(<span class="PY_STRING">'&lt;tr&gt;%sCode&lt;/th&gt;%sIdentifier&lt;/th&gt;%sDescription&lt;/th&gt;&lt;/tr&gt;\n'</span> % (
        th, th, th))
    <span class="PY_KEYWORD">for</span> code, identifier, htmlMsg <span class="PY_KEYWORD">in</span> HTTPStatusCodeList:
        td = <span class="PY_STRING">'&lt;td %s&gt;'</span> % colArgs
        res.append(<span class="PY_STRING">'&lt;tr %s&gt;%s%s&lt;/td&gt;%s%s&lt;/td&gt;%s%s&lt;/td&gt;&lt;/tr&gt;\n'</span> % (
            rowArgs, td, code, td, identifier, td, htmlMsg))
    res.append(<span class="PY_STRING">'&lt;/table&gt;\n'</span>)
    <span class="PY_KEYWORD">return</span> <span class="PY_STRING">''</span>.join(res)


<span class="PY_KEYWORD">if</span> __name__ == <span class="PY_STRING">'__main__'</span>:
    <span class="PY_KEYWORD">print</span> <span class="PY_STRING">'''&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;HTTP Status Codes&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
%s
&lt;/body&gt;
&lt;/html&gt;'''</span> % HTMLTableOfHTTPStatusCodes()
</pre>
<!--footer-->

</body>
</html>
